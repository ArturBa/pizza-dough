import{$ as x,B as ft,Da as bt,E as p,G as Z,K as lt,L as g,M as o,N as n,O as a,W as s,X as P,Y as k,_ as b,a as nt,b as rt,c as pt,d as I,ea as ut,g as at,ga as ht,ha as A,i as st,ia as u,k as mt,l as ct,m as dt,ma as gt,p as O,pa as _,q as c,s as H,sa as yt,t as r,ta as Mt,u as d,ua as vt,va as wt,wa as Ct,xa as Dt,ya as St,za as It}from"./chunk-ME3JNKNZ.js";var tt=class{constructor(e){this.payload=e}},R=tt;(()=>{tt.type="[Recipe] Set recipe id"})();var y=class{constructor(e){this.httpClient=e}getRecipe(e){return this.httpClient.get(`./assets/data/recipes/${e}.json`)}},V=y;(()=>{y.\u0275fac=function(t){return new(t||y)(H(St))}})(),(()=>{y.\u0275prov=O({token:y,factory:y.\u0275fac,providedIn:"root"})})();var f,h=(f=class{constructor(e){this.recipeService=e}static getSelectedRecipe(e){return e.selected}setRecipeIdAction(e,t){let i=t.payload.recipeId,S=e.getState().recipes.get(i);if(S){e.patchState({selected:S});return}return this.recipeService.getRecipe(i).pipe(dt(l=>{let ot=e.getState().recipes;l=rt(nt({},l),{id:i}),ot.set(i,l),e.setState({selected:l,recipes:ot})}))}},(()=>{f.\u0275fac=function(t){return new(t||f)(H(V))}})(),(()=>{f.\u0275prov=O({token:f,factory:f.\u0275fac})})(),f);I([vt(R)],h.prototype,"setRecipeIdAction",null);I([Dt()],h,"getSelectedRecipe",null);h=I([wt({name:"recipeInfo",defaults:{recipes:new Map,selected:null}})],h);var j=class{get recipeDetails$(){return this.recipe$.pipe(st(e=>!!e),at(e=>e?.recipe))}},W=j;(()=>{j.\u0275fac=function(t){return new(t||j)}})(),(()=>{j.\u0275cmp=r({type:j,selectors:[["app-instructions"]],decls:4,vars:3,consts:[[3,"innerHTML"]],template:function(t,i){t&1&&(o(0,"h2"),s(1,"Recipe"),n(),a(2,"p",0),b(3,"async")),t&2&&(p(2),g("innerHTML",x(3,1,i.recipeDetails$),ft))},dependencies:[ht]})})();I([Ct(h.getSelectedRecipe)],W.prototype,"recipe$",void 0);var F=class{},B=F;(()=>{F.\u0275fac=function(t){return new(t||F)}})(),(()=>{F.\u0275cmp=r({type:F,selectors:[["app-ingredients"]],decls:2,vars:0,template:function(t,i){t&1&&(o(0,"h2"),s(1,"Ingredients"),n())}})})();var T=class{constructor(e,t){this.store=e,this.route=t,this.destroy$=new pt,this.subscribeToRoute()}subscribeToRoute(){this.route.params.pipe(mt(e=>this.store.dispatch(new R({recipeId:e.id}))),ct(this.destroy$)).subscribe()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}},z=T;(()=>{T.\u0275fac=function(t){return new(t||T)(Z(yt),Z(gt))}})(),(()=>{T.\u0275cmp=r({type:T,selectors:[["app-recipe"]],decls:3,vars:0,template:function(t,i){t&1&&a(0,"app-ingredients")(1,"hr")(2,"app-instructions")},dependencies:[W,B]})})();var Et=18,$t=[{path:":id",component:z},{path:"**",redirectTo:`${Et}`}],M=class{},L=M;(()=>{M.\u0275fac=function(t){return new(t||M)}})(),(()=>{M.\u0275mod=d({type:M})})(),(()=>{M.\u0275inj=c({imports:[_.forChild($t),_]})})();var v=class{},q=v;(()=>{v.\u0275fac=function(t){return new(t||v)}})(),(()=>{v.\u0275mod=d({type:v})})(),(()=>{v.\u0275inj=c({imports:[u]})})();var N=class{constructor(){this.emptyValue="-"}},G=N;(()=>{N.\u0275fac=function(t){return new(t||N)}})(),(()=>{N.\u0275cmp=r({type:N,selectors:[["app-row"]],inputs:{rowData:"rowData"},decls:8,vars:5,template:function(t,i){if(t&1&&(o(0,"tr")(1,"td"),s(2),n(),o(3,"td"),s(4),b(5,"number"),n(),o(6,"td"),s(7),n()()),t&2){let S,l;p(2),P(i.rowData.title),p(2),P((S=x(5,3,i.rowData.weight))!==null&&S!==void 0?S:i.emptyValue),p(3),P((l=i.rowData.recommended)!==null&&l!==void 0?l:i.emptyValue)}},dependencies:[A],styles:["[_nghost-%COMP%]{display:contents}[_nghost-%COMP%]   td[_ngcontent-%COMP%]:first-child{font-weight:600}"]})})();var E=class{},K=E;(()=>{E.\u0275fac=function(t){return new(t||E)}})(),(()=>{E.\u0275cmp=r({type:E,selectors:[["app-header"]],inputs:{unit:"unit"},decls:6,vars:1,template:function(t,i){t&1&&(o(0,"tr"),a(1,"th"),o(2,"th"),s(3),n(),o(4,"th"),s(5,"Recommended"),n()()),t&2&&(p(3),k("Weight (",i.unit,")"))},styles:["[_nghost-%COMP%]{display:contents}"]})})();var $=class{},Q=$;(()=>{$.\u0275fac=function(t){return new(t||$)}})(),(()=>{$.\u0275cmp=r({type:$,selectors:[["app-total-weight-row"]],inputs:{totalWeight:"totalWeight"},decls:6,vars:3,template:function(t,i){t&1&&(o(0,"tr"),a(1,"td"),o(2,"td"),s(3),b(4,"number"),n(),a(5,"td"),n()),t&2&&(p(3),k("",x(4,1,i.totalWeight)," (total weight)"))},dependencies:[A],styles:["[_nghost-%COMP%]{display:contents;font-weight:600}"]})})();function Ht(it,e){if(it&1&&a(0,"app-row",3),it&2){let t=e.$implicit;g("rowData",t)}}var J=class{constructor(){this.unit=bt.unit}get totalWeight(){return this.data.map(e=>e.weight).filter(e=>!!e).reduce((e,t)=>e+t,0)??0}},xt=J;(()=>{J.\u0275fac=function(t){return new(t||J)}})(),(()=>{J.\u0275cmp=r({type:J,selectors:[["app-table"]],inputs:{data:"data",unit:"unit"},decls:6,vars:3,consts:[[3,"unit"],[3,"rowData",4,"ngFor","ngForOf"],[3,"totalWeight"],[3,"rowData"]],template:function(t,i){t&1&&(o(0,"table")(1,"thead"),a(2,"app-header",0),n(),o(3,"tbody"),lt(4,Ht,1,1,"app-row",1),a(5,"app-total-weight-row",2),n()()),t&2&&(p(2),g("unit",i.unit),p(2),g("ngForOf",i.data),p(1),g("totalWeight",i.totalWeight))},dependencies:[ut,G,K,Q],styles:[`:host{width:100%;display:block}:host table{width:100%;border-collapse:collapse;text-align:left}:host table th{color:#757575;font-weight:500;width:30%}:host table th:last{width:40%}:host table th,:host table td{padding-inline:.75rem;padding-block:.5rem}:host table tr{background-color:inherit}:host table :where(app-row,app-total-weight-row):nth-child(odd){background-color:#f8f4ec}
`],encapsulation:3})})();var w=class{},X=w;(()=>{w.\u0275fac=function(t){return new(t||w)}})(),(()=>{w.\u0275mod=d({type:w})})(),(()=>{w.\u0275inj=c({imports:[u]})})();var C=class{},Y=C;(()=>{C.\u0275fac=function(t){return new(t||C)}})(),(()=>{C.\u0275mod=d({type:C})})(),(()=>{C.\u0275inj=c({imports:[u,X]})})();var D=class{},Rt=D;(()=>{D.\u0275fac=function(t){return new(t||D)}})(),(()=>{D.\u0275mod=d({type:D})})(),(()=>{D.\u0275inj=c({imports:[u,L,q,Y,Mt.forFeature([h]),It]})})();export{Rt as RecipeModule};
