import{$ as Z,B as V,E as W,G as H,L as X,M as C,N as I,O as w,W as S,_ as Y,a as B,b as O,c as P,d as u,g as U,ga as _,ha as g,i as q,k as G,l as K,la as ee,m as Q,oa as A,p as j,q as n,ra as te,s as x,sa as ie,t as l,ta as oe,u as r,ua as ne,va as re,wa as se,xa as pe,ya as ce}from"./chunk-7VMHON35.js";var k=class{constructor(e){this.payload=e}},M=k;(()=>{k.type="[Recipe] Set recipe id"})();var c=class{constructor(e){this.httpClient=e}getRecipe(e){return this.httpClient.get(`./assets/data/recipes/${e}.json`)}},N=c;(()=>{c.\u0275fac=function(t){return new(t||c)(x(pe))}})(),(()=>{c.\u0275prov=j({token:c,factory:c.\u0275fac,providedIn:"root"})})();var i,p=(i=class{constructor(e){this.recipeService=e}static getSelectedRecipe(e){return e.selected}setRecipeIdAction(e,t){let o=t.payload.recipeId,z=e.getState().recipes.get(o);if(z){e.patchState({selected:z});return}return this.recipeService.getRecipe(o).pipe(Q(R=>{let L=e.getState().recipes;R=O(B({},R),{id:o}),L.set(o,R),e.setState({selected:R,recipes:L})}))}},(()=>{i.\u0275fac=function(t){return new(t||i)(x(N))}})(),(()=>{i.\u0275prov=j({token:i,factory:i.\u0275fac})})(),i);u([oe(M)],p.prototype,"setRecipeIdAction",null);u([se()],p,"getSelectedRecipe",null);p=u([ne({name:"recipeInfo",defaults:{recipes:new Map,selected:null}})],p);var h=class{get recipeDetails$(){return this.recipe$.pipe(q(e=>!!e),U(e=>e?.recipe))}},D=h;(()=>{h.\u0275fac=function(t){return new(t||h)}})(),(()=>{h.\u0275cmp=l({type:h,selectors:[["app-instructions"]],decls:4,vars:3,consts:[[3,"innerHTML"]],template:function(t,o){t&1&&(C(0,"h2"),S(1,"Recipe"),I(),w(2,"p",0),Y(3,"async")),t&2&&(W(2),X("innerHTML",Z(3,1,o.recipeDetails$),V))},dependencies:[_]})})();u([re(p.getSelectedRecipe)],D.prototype,"recipe$",void 0);var y=class{},b=y;(()=>{y.\u0275fac=function(t){return new(t||y)}})(),(()=>{y.\u0275cmp=l({type:y,selectors:[["app-ingredients"]],decls:4,vars:0,template:function(t,o){t&1&&(C(0,"h2"),S(1,"Ingredients"),I(),C(2,"p"),S(3,"ingredients works!"),I())}})})();var v=class{constructor(e,t){this.store=e,this.route=t,this.destroy$=new P,this.subscribeToRoute()}subscribeToRoute(){this.route.params.pipe(G(e=>this.store.dispatch(new M({recipeId:e.id}))),K(this.destroy$)).subscribe()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}},F=v;(()=>{v.\u0275fac=function(t){return new(t||v)(H(te),H(ee))}})(),(()=>{v.\u0275cmp=l({type:v,selectors:[["app-recipe"]],decls:3,vars:0,template:function(t,o){t&1&&w(0,"app-ingredients")(1,"hr")(2,"app-instructions")},dependencies:[D,b]})})();var le=18,ge=[{path:":id",component:F},{path:"**",redirectTo:`${le}`}],m=class{},$=m;(()=>{m.\u0275fac=function(t){return new(t||m)}})(),(()=>{m.\u0275mod=r({type:m})})(),(()=>{m.\u0275inj=n({imports:[A.forChild(ge),A]})})();var d=class{},J=d;(()=>{d.\u0275fac=function(t){return new(t||d)}})(),(()=>{d.\u0275mod=r({type:d})})(),(()=>{d.\u0275inj=n({imports:[g]})})();var a=class{},T=a;(()=>{a.\u0275fac=function(t){return new(t||a)}})(),(()=>{a.\u0275mod=r({type:a})})(),(()=>{a.\u0275inj=n({imports:[g]})})();var f=class{},me=f;(()=>{f.\u0275fac=function(t){return new(t||f)}})(),(()=>{f.\u0275mod=r({type:f})})(),(()=>{f.\u0275inj=n({imports:[g,$,J,T,ie.forFeature([p]),ce]})})();export{me as RecipeModule};
