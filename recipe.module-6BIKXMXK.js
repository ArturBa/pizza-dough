import{F as $,K as u,L as l,M as L,T as g,a as O,b as U,c as q,ca as M,d as x,ga as P,ja as k,k as B,l as G,m as K,ma as Q,na as V,oa as W,p as D,pa as X,q as i,ra as Y,s as j,sa as Z,t as f,ta as _,u as n}from"./chunk-LD52SMIU.js";var A=class{constructor(t){this.payload=t}},h=A;(()=>{A.type="[Recipe] Set recipe id"})();var y=class{},R=y;(()=>{y.\u0275fac=function(e){return new(e||y)}})(),(()=>{y.\u0275cmp=f({type:y,selectors:[["app-instructions"]],decls:4,vars:0,template:function(e,s){e&1&&(u(0,"h2"),g(1,"Recipe"),l(),u(2,"p"),g(3,"instructions works!"),l())}})})();var v=class{},w=v;(()=>{v.\u0275fac=function(e){return new(e||v)}})(),(()=>{v.\u0275cmp=f({type:v,selectors:[["app-ingredients"]],decls:4,vars:0,template:function(e,s){e&1&&(u(0,"h2"),g(1,"Ingredients"),l(),u(2,"p"),g(3,"ingredients works!"),l())}})})();var C=class{constructor(t,e){this.store=t,this.route=e,this.destroy$=new q,this.subscribeToRoute()}subscribeToRoute(){this.route.params.pipe(B(t=>this.store.dispatch(new h({recipeId:t.id}))),G(this.destroy$)).subscribe()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}},N=C;(()=>{C.\u0275fac=function(e){return new(e||C)($(Q),$(P))}})(),(()=>{C.\u0275cmp=f({type:C,selectors:[["app-recipe"]],decls:3,vars:0,template:function(e,s){e&1&&L(0,"app-ingredients")(1,"hr")(2,"app-instructions")},dependencies:[R,w]})})();var nt=18,rt=[{path:":id",component:N},{path:"**",redirectTo:`${nt}`}],c=class{},b=c;(()=>{c.\u0275fac=function(e){return new(e||c)}})(),(()=>{c.\u0275mod=n({type:c})})(),(()=>{c.\u0275inj=i({imports:[k.forChild(rt),k]})})();var p=class{},F=p;(()=>{p.\u0275fac=function(e){return new(e||p)}})(),(()=>{p.\u0275mod=n({type:p})})(),(()=>{p.\u0275inj=i({imports:[M]})})();var d=class{},J=d;(()=>{d.\u0275fac=function(e){return new(e||d)}})(),(()=>{d.\u0275mod=n({type:d})})(),(()=>{d.\u0275inj=i({imports:[M]})})();var m=class{constructor(t){this.httpClient=t}getRecipe(t){return this.httpClient.get(`./assets/data/recipes/${t}.json`)}},T=m;(()=>{m.\u0275fac=function(e){return new(e||m)(j(Z))}})(),(()=>{m.\u0275prov=D({token:m,factory:m.\u0275fac,providedIn:"root"})})();var o,I=(o=class{constructor(t){this.recipeService=t}static getSelectedRecipe(t){return t.selected}setRecipeIdAction(t,e){let s=e.payload.recipeId,H=t.getState().recipes.get(s);if(H){t.patchState({selected:H});return}return this.recipeService.getRecipe(s).pipe(K(S=>{let z=t.getState().recipes;S=U(O({},S),{id:s}),z.set(s,S),t.setState({selected:S,recipes:z})}))}},(()=>{o.\u0275fac=function(e){return new(e||o)(j(T))}})(),(()=>{o.\u0275prov=D({token:o,factory:o.\u0275fac})})(),o);x([W(h)],I.prototype,"setRecipeIdAction",null);x([Y()],I,"getSelectedRecipe",null);I=x([X({name:"recipeInfo",defaults:{recipes:new Map,selected:null}})],I);var a=class{},tt=a;(()=>{a.\u0275fac=function(e){return new(e||a)}})(),(()=>{a.\u0275mod=n({type:a})})(),(()=>{a.\u0275inj=i({imports:[M,b,F,J,V.forFeature([I]),_]})})();export{tt as RecipeModule};
